---
layout: post
title: 데이터 파이프라인 핵심 가이드 정리(4장) 
---

#  데이터 파이프라인 핵심 가이드

01. 데이터 파이프라인 소개
02. 최신 데이터 인프라
03. 일반적인 데이터 파이프라인 패턴
04. 데이터 수집: 데이터 추출
05. 데이터 수집: 데이터 로드
06. 데이터 변환하기
07. 파이프라인 오케스트레이션
08. 파이프라인 데이터 검증
09. 파이프라인 유지 관리 모범 사례
10.  파이프라인 성능 측정 및 모니터링 


## 04. 데이터 수집: 데이터 추출
* ELT 패턴은 데이터 분석, 데이터 사이언스, 데이터 제품을 위한 이상적인 설계다. 
* ELT 패턴의 처음 두 단계인 데이터 추출과 로드를 모두 **데이터 수집**이라고 이야기 한다.
* 개발 환경과 인프라를 설정하는 방법에 대해 설명하고 다양한 소스 시스템에서 데이터를 추출하는 방법을 설명한다.

### 파이썬 환경 설정
* 코드 예제를 실행하려면 파이썬 3버전을 실행하는 가상 시스템이 필요하다. 몇개의 라이브러리를 설치해야 한다.
* 이 장에 사용된 라이브러리를 설치하기 전에 설치할 가상 환경을 만드는 것이 가장 좋다.
* virtualenv는 다양한 프로젝트 및 애플리케이션의 파이썬 라이브러리를 관리하는데 유용하다.
* 아래는 가상환경을 생성하는 코드이다.
    $ python -m venv venv
* 이제 가상환경을 활성화 해보자
    $ source env/bin/activate
* pip을 사용하여 코드 예제에 사용되는 라이브러리를 설치하자. 설치할 첫 번째 라이브러리는 configparser이다.
     (env) $ pip install configparser
* 파이썬 스크립트와 동일한 디렉터리에 pipeline.conf 파일을 만든다. 일단 파일을 비워두자.
    (env) $touch pipeline.conf 
---
TIP - Git Repo에 구성 파일을 추가하지 말 것!
* 자격증명 및 연결 정보는 구성 파일에 저장되므로 Git 레포지토리에 추가하면 안 된다.
  (S3 버킷, 소스시스템, DW 엑세스할 수 있는 안전한 시스템에만 저장한다.)
* Git 레포지토리에서 .conf 파일을 제외할 수 있도록 .gitignore 파일에 *.conf 내용을 추가하자.

### 클라우드 파일 스토리지 설정
* 이 장의 각 예제는 S3 버킷을 사용한다.
* S3 버킷에 대한 적절한 액세스 제어 설정은 사용중인 DW에 따라 달라진다.
* 일반적으로 AWS IAM 역할을 사용하는 것이 가장 좋다.
* 버킷을 만들 때는 비공개로 유지하는 등의 기본 설정을 사용하는 것이 좋다.
